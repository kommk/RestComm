<div class="step sms-step panel panel-rvdstep">
	<div class="panel-heading">
			<step-heading></step-heading>
	</div>

	<div class="panel-body" ng-hide='step.iface.isCollapsed'>
		<div class='row form-group'>
			<div lookup-context class='col-md-12'>
				<div class="form-group">
					<span class="help-block">SMS text &nbsp;<i class="fa fa-info-circle rvd-clickable" popover='Type the SMS message to send. Use RVD variables like "$variablename"' popover-placement='top'></i></span>
					<textarea ng-model='step.text' lookup-target class="form-control"></textarea>	
				</div>
				<div class="form-group pull-right">
					<variable-lookup variable="step.text" view="standalone"></variable-lookup>
				</div>				
			</div>
		</div>
		<div class="row">
			<div class='col-md-4'>
                <!-- <span class="help-block">Destination phone number</span> -->
				<div lookup-context class="input-group form-group input-group-sm">
					<span class="input-group-addon">To<!-- &nbsp;<i class="fa fa-info-circle rvd-clickable" popover='Takes a valid E.164 phone number as a value. RestComm will send an SMS message to this number. When sending an SMS during an incoming call, it defaults to the caller. When sending an SMS during an outgoing call, it defaults to the called party.' popover-placement='top'></i>--></span>
					<input type='text' name='to' ng-model='step.to' lookup-target auto-clear class="form-control"></input>
					<variable-lookup variable="step.to" view="input-group"></variable-lookup>
				</div>
                <!-- <span class="help-block">Source phone number</span> -->
				<div lookup-context class="input-group form-group input-group-sm">
					<span class="input-group-addon">From<!-- &nbsp;<i class="fa fa-info-circle rvd-clickable" popover='Takes a valid E.164 phone number as a value. When sending an SMS during an incoming call, it defaults to the calling party. When sending an SMS during an outgoing call, it defaults to the called party.' popover-placement='top'></i>--></span>
					<input type='text' name='from' ng-model='step.from' lookup-target auto-clear class="form-control"></input>
					<variable-lookup variable="step.from" view="input-group"></variable-lookup>
				</div>			
			</div>
			<div class='col-md-8'>
					<!-- <div class='row help-block'>
                        <div class="col-md-11">Next module <i class="fa fa-info-circle rvd-clickable" popover='After processing this step continue to the module selected. Leave the default value to continue to the following step' popover-placement='top'></i></div>
                    </div> -->
                    <!-- <span class='help-block'>Next module <i class="fa fa-info-circle rvd-clickable" popover='After processing this step continue to the module selected. Leave the default value to continue to the following step' popover-placement='top'></i> </span> -->
					<div class="input-group form-group input-group-sm">
						<span class="input-group-addon help-tooltip" tooltip-trigger='mouseenter' tooltip-popup-delay='1000' tooltip='Choose the module to continue to after processing sms step. If nothing is selected call flow will continue to the next step.'>Continue to</span>
                        
						<select sync-model name='next' null-if-empty ng-model='step.next' ng-options='target.name as target.label for target in getAllTargets()' class="form-control">
							<option value=""></option>
						</select>
					</div>
					<div class="validation-error" ng-show="form.next.$invalid">Choose a target</div>

                    <!-- <span class='help-block'>&nbsp;</span>	 -->
					<div class="input-group form-group input-group-sm">
						<span class="input-group-addon help-tooltip" tooltip-trigger='mouseenter' tooltip-popup-delay='1000' tooltip="Type a URL to get notified about the sms sending final status. A POST request will be made with parameters 'SmsStatus' and 'SmsSid'">Status callback</span>
						<input type='text' auto-clear name='statusCallback' ng-model='step.statusCallback' class="form-control" placeholder='http://...'></input>
					</div>

		</div>
	</div>
</div>
